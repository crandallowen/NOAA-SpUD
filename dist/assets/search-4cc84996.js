import{_ as B,r as F,w as M,a as U,c as j,o as i,b as a,d as t,e as u,v as m,F as d,f as c,g as V,h as y,u as q,t as _,i as x,j as L,k,l as A,m as N,n as T,p as w,q as D,s as z,x as E}from"./app-ff17e2a2.js";import{s as S}from"./state-4f873ec5.js";const l=h=>(z("data-v-f4ce78c2"),h=h(),E(),h),P=l(()=>t("h1",null,"Search",-1)),H={id:"searchInputs"},G={id:"conditionInputs"},J={class:"inputLine"},K=l(()=>t("h3",{class:"inputLabel"},"Serial Number",-1)),Q=l(()=>t("option",{disabled:"",value:""},null,-1)),W=["value"],X={class:"inputLine"},Y=l(()=>t("p",{class:"inputSeperator"},"and",-1)),Z=["disabled"],ee=l(()=>t("div",{class:"divider"},null,-1)),te={class:"inputLine"},ne=l(()=>t("h3",{class:"inputLabel"},"Frequency",-1)),se=l(()=>t("option",{disabled:"",value:""},null,-1)),le=["value"],oe={class:"inputLine"},ie=l(()=>t("p",{class:"inputSeperator"},"and",-1)),ae=["disabled"],ue=l(()=>t("div",{class:"divider"},null,-1)),re={class:"inputLine"},de=l(()=>t("h3",{class:"inputLabel"},"Bureau",-1)),_e=l(()=>t("option",{disabled:"",value:""},null,-1)),ce=["value"],ve=["disabled"],pe=l(()=>t("div",{class:"divider"},null,-1)),me={class:"inputLine"},be=l(()=>t("h3",{class:"inputLabel"},"Transmitter State/Country Code",-1)),fe=l(()=>t("option",{disabled:"",value:""},null,-1)),he=["value"],ye=["disabled"],qe=l(()=>t("div",{class:"divider"},null,-1)),we={class:"inputLine"},Ve=l(()=>t("h3",{class:"inputLabel"},"Receiver State/Country Code",-1)),xe=l(()=>t("option",{disabled:"",value:""},null,-1)),Le=["value"],ke=["disabled"],Se=l(()=>t("div",{class:"divider"},null,-1)),$e={class:"inputLine"},Ce=l(()=>t("h3",{class:"inputLabel"},"Transmitter Antenna Location",-1)),ge=l(()=>t("option",{disabled:"",value:""},null,-1)),Ue=["value"],je=["disabled"],Ae=l(()=>t("div",{class:"divider"},null,-1)),Oe={class:"inputLine"},Re=l(()=>t("h3",{class:"inputLabel"},"Receiver Antenna Location",-1)),Ie=l(()=>t("option",{disabled:"",value:""},null,-1)),Be=["value"],Fe=["disabled"],Me=l(()=>t("div",{class:"divider"},null,-1)),Ne={class:"inputLine"},Te=l(()=>t("h3",{class:"inputLabel"},"Station Class",-1)),De=l(()=>t("option",{disabled:"",value:""},null,-1)),ze=["value"],Ee=["disabled"],Pe=l(()=>t("div",{class:"divider"},null,-1)),He={class:"inputLine"},Ge=l(()=>t("h3",{class:"inputLabel"},"Function Identifier",-1)),Je=l(()=>t("option",{disabled:"",value:""},null,-1)),Ke=["value"],Qe=["disabled"],We=l(()=>t("div",{class:"divider"},null,-1)),Xe=l(()=>t("h3",null,"Result Columns",-1)),Ye={class:"columns"},Ze={class:"inputLine"},et=["id","value"],tt=["for"],nt=l(()=>t("div",{class:"divider"},null,-1)),st=l(()=>t("div",{class:"divider"},null,-1)),lt={id:"queryDisplay"},ot={class:"inputLine"},it=["disabled"],at={__name:"search",setup(h){const b=F({});M(async()=>{let o=new URL(`${window.location.origin}/api/getOptions`);await(await fetch(o)).json().then(e=>{b.value=e})});const n=U({serial_num:{value:"",lowerValue:"",relation:""},center_frequency:{value:"",lowerValue:"",relation:""},bureau:"",tx_state_country_code:"",rx_state_country_code:"",tx_antenna_location:"",rx_antenna_location:"",station_class:"",function_identifier:""}),$=["=",">=",">","<=","<","!=","between"],r=U({}),C=j(()=>{let o="";if(Object.keys(r).length!=0){let s=[];for(const e in r){let p=[];for(const I of r[e]){let f=I.parameters;e==="serial_num"||e==="center_frequency"?f.relation!="between"?p.push(`${f.relation} ${x(f.value,e)}`):p.push(`${f.relation} ${x(f.lowerValue,e)} and ${x(f.higherValue,e)}`):p.push(f.value)}s.push(["serial_num","center_frequency"].includes(e)?`${w(e)} ${p.join(` OR ${w(e)} `)}`:`${w(e)} in [${p.join(", ")}]`)}o=s.join(`
`)}return o}),g=j(()=>{let o=[];if(Object.keys(r).length!=0)for(const s in r)for(const e of r[s])o.push({field:s,...e.parameters});return o});function v(o){Object.hasOwn(r,o)||(r[o]=[]);let s;if(o==="serial_num")n.serial_num.relation!="between"?(s={relation:n.serial_num.relation,value:L(n.serial_num.value)?k(n.serial_num.value):n.serial_num.value},n.serial_num.value="",n.serial_num.relation=""):(s={relation:n.serial_num.relation,lowerValue:L(n.serial_num.lowerValue)?k(n.serial_num.lowerValue):n.serial_num.lowerValue,higherValue:L(n.serial_num.value)?k(n.serial_num.value):n.serial_num.value},n.serial_num.value="",n.serial_num.lowerValue="",n.serial_num.relation="");else if(o==="center_frequency"){let e=A(n.center_frequency.value);if(n.center_frequency.relation!="between")s={relation:n.center_frequency.relation,value:e},n.center_frequency.value="",n.center_frequency.relation="";else{let p=A(n.center_frequency.lowerValue);s={relation:n.center_frequency.relation,lowerValue:p,higherValue:e},n.center_frequency.value="",n.center_frequency.lowerValue="",n.center_frequency.relation=""}}else["bureau","tx_state_country_code","rx_state_country_code","tx_antenna_location","rx_antenna_location","station_class","function_identifier"].includes(o)&&(s={value:n[o]},n[o]="");r[o].push({parameters:s,id:Symbol()})}function O(){S.params=[...g.value],N.push({name:"searchResults",params:[...g.value]})}function R(){for(const o in r)delete r[o]}return(o,s)=>(i(),a(d,null,[P,t("div",H,[t("div",G,[t("div",J,[K,u(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.serial_num.relation=e)},[Q,(i(),a(d,null,c($,e=>t("option",{value:e},_(e),9,W)),64))],512),[[m,n.serial_num.relation]]),u(t("div",X,[u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.serial_num.lowerValue=e)},null,512),[[y,n.serial_num.lowerValue]]),Y],512),[[V,n.serial_num.relation==="between"]]),u(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.serial_num.value=e)},null,512),[[y,n.serial_num.value]]),t("button",{onClick:s[3]||(s[3]=e=>v("serial_num")),disabled:n.serial_num.relation===""||n.serial_num.value===""||n.serial_num.relation==="between"&&n.serial_num.lowerValue===""},"Add",8,Z)]),ee,t("div",te,[ne,u(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>n.center_frequency.relation=e)},[se,(i(),a(d,null,c($,e=>t("option",{value:e},_(e),9,le)),64))],512),[[m,n.center_frequency.relation]]),u(t("div",oe,[u(t("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>n.center_frequency.lowerValue=e)},null,512),[[y,n.center_frequency.lowerValue]]),ie],512),[[V,n.center_frequency.relation==="between"]]),u(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>n.center_frequency.value=e)},null,512),[[y,n.center_frequency.value]]),t("button",{onClick:s[7]||(s[7]=e=>v("center_frequency")),disabled:n.center_frequency.relation===""||n.center_frequency.value===""||n.center_frequency.relation==="between"&&n.center_frequency.lowerValue===""},"Add",8,ae)]),ue,t("div",re,[de,u(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>n.bureau=e)},[_e,(i(!0),a(d,null,c(b.value.bureau,e=>(i(),a("option",{value:e},_(e),9,ce))),256))],512),[[m,n.bureau]]),t("button",{onClick:s[9]||(s[9]=e=>v("bureau")),disabled:n.bureau===""},"Add",8,ve)]),pe,t("div",me,[be,u(t("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>n.tx_state_country_code=e)},[fe,(i(!0),a(d,null,c(b.value.tx_state_country_code,e=>(i(),a("option",{value:e},_(e),9,he))),256))],512),[[m,n.tx_state_country_code]]),t("button",{onClick:s[11]||(s[11]=e=>v("tx_state_country_code")),disabled:n.tx_state_country_code===""},"Add",8,ye)]),qe,t("div",we,[Ve,u(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>n.rx_state_country_code=e)},[xe,(i(!0),a(d,null,c(b.value.rx_state_country_code,e=>(i(),a("option",{value:e},_(e),9,Le))),256))],512),[[m,n.rx_state_country_code]]),t("button",{onClick:s[13]||(s[13]=e=>v("rx_state_country_code")),disabled:n.rx_state_country_code===""},"Add",8,ke)]),Se,t("div",$e,[Ce,u(t("select",{"onUpdate:modelValue":s[14]||(s[14]=e=>n.tx_antenna_location=e)},[ge,(i(!0),a(d,null,c(b.value.tx_antenna_location,e=>(i(),a("option",{value:e},_(e),9,Ue))),256))],512),[[m,n.tx_antenna_location]]),t("button",{onClick:s[15]||(s[15]=e=>v("tx_antenna_location")),disabled:n.tx_antenna_location===""},"Add",8,je)]),Ae,t("div",Oe,[Re,u(t("select",{"onUpdate:modelValue":s[16]||(s[16]=e=>n.rx_antenna_location=e)},[Ie,(i(!0),a(d,null,c(b.value.rx_antenna_location,e=>(i(),a("option",{value:e},_(e),9,Be))),256))],512),[[m,n.rx_antenna_location]]),t("button",{onClick:s[17]||(s[17]=e=>v("rx_antenna_location")),disabled:n.rx_antenna_location===""},"Add",8,Fe)]),Me,t("div",Ne,[Te,u(t("select",{"onUpdate:modelValue":s[18]||(s[18]=e=>n.station_class=e)},[De,(i(!0),a(d,null,c(b.value.station_class,e=>(i(),a("option",{value:e},_(e),9,ze))),256))],512),[[m,n.station_class]]),t("button",{onClick:s[19]||(s[19]=e=>v("station_class")),disabled:n.station_class===""},"Add",8,Ee)]),Pe,t("div",He,[Ge,u(t("select",{"onUpdate:modelValue":s[20]||(s[20]=e=>n.function_identifier=e)},[Je,(i(!0),a(d,null,c(b.value.function_identifier,e=>(i(),a("option",{value:e},_(e),9,Ke))),256))],512),[[m,n.function_identifier]]),t("button",{onClick:s[21]||(s[21]=e=>v("function_identifier")),disabled:n.function_identifier===""},"Add",8,Qe)]),We,Xe,t("div",Ye,[(i(!0),a(d,null,c(q(D),e=>(i(),a("div",Ze,[u(t("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":s[22]||(s[22]=p=>q(S).displayColumns=p)},null,8,et),[[T,q(S).displayColumns]]),t("label",{for:e},_(q(w)(e)),9,tt)]))),256))])]),nt,st,t("div",lt,[u(t("div",null,[t("pre",null,_(C.value),1)],512),[[V,C.value!=""]]),t("div",ot,[t("button",{onClick:O,disabled:Object.keys(r).length===0},"Search",8,it),t("button",{onClick:R},"Clear")])])])],64))}},dt=B(at,[["__scopeId","data-v-f4ce78c2"]]);export{dt as default};
