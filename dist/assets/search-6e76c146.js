import{_ as D,r as F,w as T,a as B,b as U,c as O,o as i,d as a,e as t,f as j,g as u,v as m,F as d,h as c,i as x,j as w,u as q,t as _,k as L,l as S,m as C,n as A,p as M,q as z,s as V,x as P,y as E,z as H}from"./app-1d35c2e5.js";import{u as J}from"./searchResults-eefaf724.js";const l=b=>(E("data-v-e8eee97f"),b=b(),H(),b),G=l(()=>t("h1",null,"Search",-1)),K={id:"searchInputs"},Q={id:"conditionInputs"},W={class:"inputLine"},X=l(()=>t("h3",{class:"inputLabel"},"Serial Number",-1)),Y=l(()=>t("option",{disabled:"",value:""},null,-1)),Z=["value"],ee={class:"inputLine"},te=l(()=>t("p",{class:"inputSeperator"},"and",-1)),ne=["disabled"],se=l(()=>t("div",{class:"divider"},null,-1)),le={class:"inputLine"},oe=l(()=>t("h3",{class:"inputLabel"},"Frequency",-1)),ie=l(()=>t("option",{disabled:"",value:""},null,-1)),ae=["value"],ue={class:"inputLine"},re=l(()=>t("p",{class:"inputSeperator"},"and",-1)),de=["disabled"],_e=l(()=>t("div",{class:"divider"},null,-1)),ce={class:"inputLine"},ve=l(()=>t("h3",{class:"inputLabel"},"Bureau",-1)),pe=l(()=>t("option",{disabled:"",value:""},null,-1)),me=["value"],he=["disabled"],fe=l(()=>t("div",{class:"divider"},null,-1)),be={class:"inputLine"},ye=l(()=>t("h3",{class:"inputLabel"},"Transmitter State/Country Code",-1)),we=l(()=>t("option",{disabled:"",value:""},null,-1)),qe=["value"],Ve=["disabled"],xe=l(()=>t("div",{class:"divider"},null,-1)),Le={class:"inputLine"},Se=l(()=>t("h3",{class:"inputLabel"},"Receiver State/Country Code",-1)),Ce=l(()=>t("option",{disabled:"",value:""},null,-1)),$e=["value"],ke=["disabled"],ge=l(()=>t("div",{class:"divider"},null,-1)),Ue={class:"inputLine"},Oe=l(()=>t("h3",{class:"inputLabel"},"Transmitter Antenna Location",-1)),je=l(()=>t("option",{disabled:"",value:""},null,-1)),Ae=["value"],Ie=["disabled"],Re=l(()=>t("div",{class:"divider"},null,-1)),Ne={class:"inputLine"},De=l(()=>t("h3",{class:"inputLabel"},"Receiver Antenna Location",-1)),Fe=l(()=>t("option",{disabled:"",value:""},null,-1)),Te=["value"],Be=["disabled"],Me=l(()=>t("div",{class:"divider"},null,-1)),ze={class:"inputLine"},Pe=l(()=>t("h3",{class:"inputLabel"},"Station Class",-1)),Ee=l(()=>t("option",{disabled:"",value:""},null,-1)),He=["value"],Je=["disabled"],Ge=l(()=>t("div",{class:"divider"},null,-1)),Ke={class:"inputLine"},Qe=l(()=>t("h3",{class:"inputLabel"},"Function Identifier",-1)),We=l(()=>t("option",{disabled:"",value:""},null,-1)),Xe=["value"],Ye=["disabled"],Ze=l(()=>t("div",{class:"divider"},null,-1)),et=l(()=>t("h3",null,"Result Columns",-1)),tt={class:"columns"},nt={class:"inputLine"},st=["id","value"],lt=["for"],ot=l(()=>t("div",{class:"divider"},null,-1)),it=l(()=>t("div",{class:"divider"},null,-1)),at={id:"queryDisplay"},ut={class:"inputLine"},rt=["disabled"],dt={__name:"search",setup(b){const h=F({}),y=J();T(y,o=>{localStorage.setItem(o.$id,JSON.stringify(o))},{deep:!0}),B(async()=>{let o=new URL(`${window.location.origin}/api/getOptions`);await(await fetch(o,{credentials:"include"})).json().then(e=>{h.value=e})});const n=U({serial_num:{value:"",lowerValue:"",relation:""},center_frequency:{value:"",lowerValue:"",relation:""},bureau:"",tx_state_country_code:"",rx_state_country_code:"",tx_antenna_location:"",rx_antenna_location:"",station_class:"",function_identifier:""}),$=["=",">=",">","<=","<","!=","between"],r=U({}),k=O(()=>{let o="";if(Object.keys(r).length!=0){let s=[];for(const e in r){let p=[];for(const N of r[e]){let f=N.parameters;e==="serial_num"||e==="center_frequency"?f.relation!="between"?p.push(`${f.relation} ${L(f.value,e)}`):p.push(`${f.relation} ${L(f.lowerValue,e)} and ${L(f.higherValue,e)}`):p.push(f.value)}s.push(["serial_num","center_frequency"].includes(e)?`${V(e)} ${p.join(` OR ${V(e)} `)}`:`${V(e)} in [${p.join(", ")}]`)}o=s.join(`
`)}return o}),g=O(()=>{let o=[];if(Object.keys(r).length!=0)for(const s in r)for(const e of r[s])o.push({field:s,...e.parameters});return o});function v(o){Object.hasOwn(r,o)||(r[o]=[]);let s;if(o==="serial_num")n.serial_num.relation!="between"?(s={relation:n.serial_num.relation,value:S(n.serial_num.value)?C(n.serial_num.value):n.serial_num.value},n.serial_num.value="",n.serial_num.relation=""):(s={relation:n.serial_num.relation,lowerValue:S(n.serial_num.lowerValue)?C(n.serial_num.lowerValue):n.serial_num.lowerValue,higherValue:S(n.serial_num.value)?C(n.serial_num.value):n.serial_num.value},n.serial_num.value="",n.serial_num.lowerValue="",n.serial_num.relation="");else if(o==="center_frequency"){let e=A(n.center_frequency.value);if(n.center_frequency.relation!="between")s={relation:n.center_frequency.relation,value:e},n.center_frequency.value="",n.center_frequency.relation="";else{let p=A(n.center_frequency.lowerValue);s={relation:n.center_frequency.relation,lowerValue:p,higherValue:e},n.center_frequency.value="",n.center_frequency.lowerValue="",n.center_frequency.relation=""}}else["bureau","tx_state_country_code","rx_state_country_code","tx_antenna_location","rx_antenna_location","station_class","function_identifier"].includes(o)&&(s={value:n[o]},n[o]="");r[o].push({parameters:s,id:Symbol()})}function I(){y.params=[...g.value],M.push({name:"searchResults",params:[...g.value]})}function R(){for(const o in r)delete r[o]}return(o,s)=>(i(),a(d,null,[G,t("div",K,[t("div",Q,[t("div",W,[j(" Search Inputs "),X,u(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.serial_num.relation=e)},[Y,(i(),a(d,null,c($,e=>t("option",{value:e},_(e),9,Z)),64))],512),[[m,n.serial_num.relation]]),u(t("div",ee,[u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.serial_num.lowerValue=e)},null,512),[[w,n.serial_num.lowerValue]]),te],512),[[x,n.serial_num.relation==="between"]]),u(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.serial_num.value=e)},null,512),[[w,n.serial_num.value]]),t("button",{onClick:s[3]||(s[3]=e=>v("serial_num")),disabled:n.serial_num.relation===""||n.serial_num.value===""||n.serial_num.relation==="between"&&n.serial_num.lowerValue===""},"Add",8,ne)]),se,t("div",le,[oe,u(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>n.center_frequency.relation=e)},[ie,(i(),a(d,null,c($,e=>t("option",{value:e},_(e),9,ae)),64))],512),[[m,n.center_frequency.relation]]),u(t("div",ue,[u(t("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>n.center_frequency.lowerValue=e)},null,512),[[w,n.center_frequency.lowerValue]]),re],512),[[x,n.center_frequency.relation==="between"]]),u(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>n.center_frequency.value=e)},null,512),[[w,n.center_frequency.value]]),t("button",{onClick:s[7]||(s[7]=e=>v("center_frequency")),disabled:n.center_frequency.relation===""||n.center_frequency.value===""||n.center_frequency.relation==="between"&&n.center_frequency.lowerValue===""},"Add",8,de)]),_e,t("div",ce,[ve,u(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>n.bureau=e)},[pe,(i(!0),a(d,null,c(h.value.bureau,e=>(i(),a("option",{value:e},_(e),9,me))),256))],512),[[m,n.bureau]]),t("button",{onClick:s[9]||(s[9]=e=>v("bureau")),disabled:n.bureau===""},"Add",8,he)]),fe,t("div",be,[ye,u(t("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>n.tx_state_country_code=e)},[we,(i(!0),a(d,null,c(h.value.tx_state_country_code,e=>(i(),a("option",{value:e},_(e),9,qe))),256))],512),[[m,n.tx_state_country_code]]),t("button",{onClick:s[11]||(s[11]=e=>v("tx_state_country_code")),disabled:n.tx_state_country_code===""},"Add",8,Ve)]),xe,t("div",Le,[Se,u(t("select",{"onUpdate:modelValue":s[12]||(s[12]=e=>n.rx_state_country_code=e)},[Ce,(i(!0),a(d,null,c(h.value.rx_state_country_code,e=>(i(),a("option",{value:e},_(e),9,$e))),256))],512),[[m,n.rx_state_country_code]]),t("button",{onClick:s[13]||(s[13]=e=>v("rx_state_country_code")),disabled:n.rx_state_country_code===""},"Add",8,ke)]),ge,t("div",Ue,[Oe,u(t("select",{"onUpdate:modelValue":s[14]||(s[14]=e=>n.tx_antenna_location=e)},[je,(i(!0),a(d,null,c(h.value.tx_antenna_location,e=>(i(),a("option",{value:e},_(e),9,Ae))),256))],512),[[m,n.tx_antenna_location]]),t("button",{onClick:s[15]||(s[15]=e=>v("tx_antenna_location")),disabled:n.tx_antenna_location===""},"Add",8,Ie)]),Re,t("div",Ne,[De,u(t("select",{"onUpdate:modelValue":s[16]||(s[16]=e=>n.rx_antenna_location=e)},[Fe,(i(!0),a(d,null,c(h.value.rx_antenna_location,e=>(i(),a("option",{value:e},_(e),9,Te))),256))],512),[[m,n.rx_antenna_location]]),t("button",{onClick:s[17]||(s[17]=e=>v("rx_antenna_location")),disabled:n.rx_antenna_location===""},"Add",8,Be)]),Me,t("div",ze,[Pe,u(t("select",{"onUpdate:modelValue":s[18]||(s[18]=e=>n.station_class=e)},[Ee,(i(!0),a(d,null,c(h.value.station_class,e=>(i(),a("option",{value:e},_(e),9,He))),256))],512),[[m,n.station_class]]),t("button",{onClick:s[19]||(s[19]=e=>v("station_class")),disabled:n.station_class===""},"Add",8,Je)]),Ge,t("div",Ke,[Qe,u(t("select",{"onUpdate:modelValue":s[20]||(s[20]=e=>n.function_identifier=e)},[We,(i(!0),a(d,null,c(h.value.function_identifier,e=>(i(),a("option",{value:e},_(e),9,Xe))),256))],512),[[m,n.function_identifier]]),t("button",{onClick:s[21]||(s[21]=e=>v("function_identifier")),disabled:n.function_identifier===""},"Add",8,Ye)]),Ze,j(" Results Columns "),et,t("div",tt,[(i(!0),a(d,null,c(q(P),e=>(i(),a("div",nt,[u(t("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":s[22]||(s[22]=p=>q(y).displayColumns=p)},null,8,st),[[z,q(y).displayColumns]]),t("label",{for:e},_(q(V)(e)),9,lt)]))),256))])]),ot,it,t("div",at,[u(t("div",null,[t("pre",null,_(k.value),1)],512),[[x,k.value!=""]]),t("div",ut,[t("button",{onClick:I,disabled:Object.keys(r).length===0},"Search",8,rt),t("button",{onClick:R},"Clear")])])])],64))}},vt=D(dt,[["__scopeId","data-v-e8eee97f"],["__file","C:/Users/OCrandall/OneDrive - Freedom Technologies Inc/Documents/Projects/NOAA-SpUD/src/views/search.vue"]]);export{vt as default};
